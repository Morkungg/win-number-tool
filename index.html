<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>วินเลข</title>
  <style>
    body {
      background: black;
      color: white;
      font-family: sans-serif;
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
    }
    input[type="text"] {
      padding: 10px;
      font-size: 20px;
      width: 200px;
      text-align: center;
    }
    button {
      padding: 10px;
      font-size: 16px;
      cursor: pointer;
      border: none;
      border-radius: 5px;
    }
    .reset-btn {
      background: red;
      color: white;
      margin-left: 10px;
    }
    .copy-btn {
      background: #007bff;
      color: white;
      margin-left: 10px;
    }
    .section {
      margin: 20px 0;
    }
    .title {
      font-weight: bold;
      font-size: 18px;
      margin: 10px 0;
    }
    .green { color: lightgreen; }
    .red { color: pink; }
    .result-box {
      background: white;
      color: black;
      padding: 10px;
      font-size: 16px;
      line-height: 1.6em;
      word-wrap: break-word;
      max-height: 200px;
      overflow-y: auto;
    }
  </style>
</head>
<body>
  <div>
    <input type="text" id="inputNumbers" maxlength="10" placeholder="ใส่เลข เช่น 1234" oninput="generate()">
    <button class="reset-btn" onclick="resetInput()">Reset</button>
  </div>

  <div class="section">
    <div class="title">เลขตั้งต้น</div>
    <div id="baseNumbers"></div>
  </div>

  <div class="section">
    <div class="title"><span class="green">เลข 3 ตัว รวมเบิ้ล</span> <button class="copy-btn" onclick="copyResult('resultDouble3')">คัดลอก</button></div>
    <div id="resultDouble3" class="result-box"></div>
  </div>

<script>
function generate3DigitDoubleAndTriple(digits) {
  const nums = [...new Set(digits)].sort();
  let results = new Set();

  // เลขไม่ซ้ำเรียง 3 ตัว (ไม่กลับ)
  for (let i = 0; i < nums.length; i++) {
    for (let j = i+1; j < nums.length; j++) {
      for (let k = j+1; k < nums.length; k++) {
        results.add(nums[i] + nums[j] + nums[k]);
      }
    }
  }

  // เลขเบิ้ล เช่น 112, 113
  nums.forEach(a => {
    nums.forEach(b => {
      if (a !== b) {
        results.add(a + a + b);
      }
    });
  });

  // เลขตอง เช่น 111, 222
  nums.forEach(n => {
    results.add(n + n + n);
  });

  return [...results].sort();
}

function generate() {
  const input = document.getElementById("inputNumbers").value.replace(/[^0-9]/g, "");
  document.getElementById("baseNumbers").innerText = input;
  if (input.length < 2) return;

  const win3Double = generate3DigitDoubleAndTriple(input);
  document.getElementById("resultDouble3").innerText = win3Double.join(", ");
}

function resetInput() {
  document.getElementById("inputNumbers").value = "";
  generate();
}

function copyResult(id) {
  const el = document.getElementById(id);
  navigator.clipboard.writeText(el.innerText);
  const btn = el.previousElementSibling;
  const original = btn.innerText;
  btn.innerText = "คัดลอกแล้ว";
  setTimeout(() => { btn.innerText = original; }, 1500);
}
</script>
</body>
</html>
